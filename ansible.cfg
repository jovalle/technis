# Ansible configuration for running from project root
# This file allows running ansible commands from the root directory

[defaults]
inventory = ansible/inventory/hosts.yaml

# Temporary directory
remote_tmp = /tmp/ansible-${USER}

# SSH connection settings
remote_user = root
host_key_checking = false
timeout = 30

# Performance
forks = 10
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_facts
fact_caching_timeout = 3600

# Output
stdout_callback = yaml
result_format = json
callbacks_enabled = timer
display_skipped_hosts = false
deprecation_warnings = false

# Logging (relative to root)
log_path = ansible/ansible.log

# Privilege escalation
become = false
become_method = sudo
become_user = root

# Retry files
retry_files_enabled = false

# Vault password file (relative to root)
vault_password_file = .vault_pass

# Roles path (relative to root)
roles_path = ansible/roles

# Collections path (relative to root)
collections_paths = ansible/collections:~/.ansible/collections:/usr/share/ansible/collections

# SSH
[ssh_connection]
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o ServerAliveInterval=60
pipelining = true
