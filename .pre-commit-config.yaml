---
ci:
  autofix_commit_msg: "chore(pre-commit): auto fixes from pre-commit hooks\n\n[skip ci]\n"
  autofix_prs: true
  autoupdate_commit_msg: "chore(pre-commit): autoupdate hook versions"
  autoupdate_schedule: weekly
repos:
  - hooks:
      - args:
          - --markdown-linebreak-ext=md
        id: trailing-whitespace
      - id: end-of-file-fixer
      - args:
          - --allow-multiple-documents
          - --unsafe
        exclude: ^(kubernetes/.*|helm/.*)$
        id: check-yaml
      - args:
          - --maxkb=1024
        id: check-added-large-files
      - id: check-merge-conflict
      - id: check-case-conflict
      - id: check-executables-have-shebangs
      - id: check-shebang-scripts-are-executable
      - id: mixed-line-ending
      - exclude: ^(\.sops\.yaml|.*\.sops\..*|age\.agekey)$
        id: detect-private-key
    repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v6.0.0
  - hooks:
      - exclude: ^(\.sops\.yaml|.*\.sops\..*|kubernetes/.*\.secret\..*\.yaml)$
        id: gitleaks
    repo: https://github.com/gitleaks/gitleaks
    rev: v8.28.0
  - hooks:
      - args:
          - --severity=warning
          - --shell=bash
        exclude: ^(docs/|web/|archive/)
        id: shellcheck
    repo: https://github.com/shellcheck-py/shellcheck-py
    rev: v0.11.0.1
  - hooks:
      - args:
          - -i
          - "2"
          - -ci
          - -w
        exclude: ^(docs/|web/|archive/)
        id: shfmt
    repo: https://github.com/scop/pre-commit-shfmt
    rev: v3.12.0-2
  - hooks:
      - args:
          - --fix
          - --exit-non-zero-on-fix
        id: ruff
      - id: ruff-format
    repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.14.3
  - hooks:
      - args:
          - --config-file=ansible/.ansible-lint
          - --fix=none
        exclude: ^ansible/(tmp/|files/|archive/)
        files: ^ansible/
        id: ansible-lint
    repo: https://github.com/ansible/ansible-lint
    rev: v25.9.2
  - hooks:
      - args:
          - --args=-recursive
        id: terraform_fmt
      - exclude: ^archive/
        id: terraform_validate
      - args:
          - --args=--config=__GIT_WORKING_DIR__/.tflint.hcl
        exclude: ^archive/
        id: terraform_tflint
    repo: https://github.com/antonbabenko/pre-commit-terraform
    rev: v1.96.1
  - hooks:
      - args:
          - --config-file=.yamllint.yaml
        exclude: ^(helm/|kubernetes/.*templates.*|archive/|docs/|.*vault.*)
        id: yamllint
    repo: https://github.com/adrienverge/yamllint
    rev: v1.37.1
  - hooks:
      - args:
          - --config=.markdownlint.yaml
        exclude: ^(archive/|CHANGELOG)
        id: markdownlint
    repo: https://github.com/igorshubovych/markdownlint-cli
    rev: v0.45.0
  - hooks:
      - exclude: ^(kubernetes/|terraform/.*\.json$|package-lock\.json)
        id: prettier
        types_or:
          - json
          - markdown
    repo: https://github.com/pre-commit/mirrors-prettier
    rev: v4.0.0-alpha.8
  - hooks:
      - args:
          - --strict
        id: conventional-pre-commit
        stages:
          - commit-msg
    repo: https://github.com/compilerla/conventional-pre-commit
    rev: v4.3.0
